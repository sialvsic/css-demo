const data = [
  {
    id: "sYffw0LNr7s",
    originalWidth: 5923,
    originalHeight: 3332,
    primaryColor: "FBF3E6",
    creatorName: "Federico Respini",
    creatorProfileUrl: "https://unsplash.com/@federicorespini",
    thumbUrl:
      "https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "W51VK3Obcj0",
    originalWidth: 4256,
    originalHeight: 2832,
    primaryColor: "7A4C1E",
    creatorName: "Yuriy Bogdanov",
    creatorProfileUrl: "https://unsplash.com/@profepix",
    thumbUrl:
      "https://images.unsplash.com/photo-1503453363464-743ee9ce1584?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1503453363464-743ee9ce1584?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "oFweDg39ldw",
    originalWidth: 2268,
    originalHeight: 3034,
    primaryColor: "D6CBB0",
    creatorName: "Juan Cruz Mountford",
    creatorProfileUrl: "https://unsplash.com/@juanmount",
    thumbUrl:
      "https://images.unsplash.com/photo-1518655513281-e90740bd56b0?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1518655513281-e90740bd56b0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "UzTBnxFiSWE",
    originalWidth: 5472,
    originalHeight: 3648,
    primaryColor: "301011",
    creatorName: "Micaela Parente",
    creatorProfileUrl: "https://unsplash.com/@mparente",
    thumbUrl:
      "https://images.unsplash.com/photo-1522046310824-b844b4b5806f?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1522046310824-b844b4b5806f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "UcNhoxAs6PQ",
    originalWidth: 2800,
    originalHeight: 4200,
    primaryColor: "B6C9B3",
    creatorName: "Wolfgang Hasselmann",
    creatorProfileUrl: "https://unsplash.com/@wolfgang_hasselmann",
    thumbUrl:
      "https://images.unsplash.com/photo-1529159942819-334f07de4fe5?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1529159942819-334f07de4fe5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "wFWQmOyfkkM",
    originalWidth: 3000,
    originalHeight: 2001,
    primaryColor: "F3E2D6",
    creatorName: "Joshua Earle",
    creatorProfileUrl: "https://unsplash.com/@joshuaearle",
    thumbUrl:
      "https://images.unsplash.com/photo-1519293978507-9c6bb9f82eda?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1519293978507-9c6bb9f82eda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "WelAhKBVz1Q",
    originalWidth: 3024,
    originalHeight: 4032,
    primaryColor: "F3CD92",
    creatorName: "Stephanie Cook",
    creatorProfileUrl: "https://unsplash.com/@stephtcook",
    thumbUrl:
      "https://images.unsplash.com/photo-1529862021-d416a7f1a5cd?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1529862021-d416a7f1a5cd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "i6TiA4Hs4MQ",
    originalWidth: 3456,
    originalHeight: 4608,
    primaryColor: "EEECEA",
    creatorName: "Jonas Tebbe",
    creatorProfileUrl: "https://unsplash.com/@jonastebbe",
    thumbUrl:
      "https://images.unsplash.com/photo-1535815104204-1282638c01f7?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1535815104204-1282638c01f7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  },
  {
    id: "ciGdq28feDA",
    originalWidth: 3648,
    originalHeight: 4864,
    primaryColor: "AFD8E4",
    creatorName: "Janis Karkossa",
    creatorProfileUrl: "https://unsplash.com/@janisfilmt",
    thumbUrl:
      "https://images.unsplash.com/photo-1560214447-b99d5f20a6ee?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&ixid=eyJhcHBfaWQiOjEzNzI2fQ",
    rawUrl:
      "https://images.unsplash.com/photo-1560214447-b99d5f20a6ee?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEzNzI2fQ"
  }
];

const sort = data.slice().sort(function(a, b) {
  return b.originalHeight - a.originalHeight;
});

// 1.根据originalHeight排序 从大到小

function combine(g) {
  const e = {};
  let b = 0;
  // console.log(g);

  // 2. 找出三个中的最小高度
  e.minHeight = g.reduce(function(a, b) {
    a > b.originalHeight && (a = b.originalHeight);
    return a;
  }, Infinity);

  // console.log(e);

  // 3.设置定宽 710px
  e.oB = 710; //宽度
  e.Hs = 0;
  e.YQ = {};

  // console.log("e的值为");
  // console.log(e);
  g.forEach(
    (function(a) {
      return function(b) {
        // 最小高度/高度*宽度
        //4200 / 4864 * 3648 => 3150   4200 * 0.75
        //4200 / 4608 * 3456 => 3150   4200 * 0.75
        //4200 / 4200 * 2800 => 2800   4200 * 0.67
        var c = (a.minHeight / b.originalHeight) * b.originalWidth;

        a.YQ[b.id] = c;
        a.Hs += c;
        a.oB -= 10;
      };
    })(e)
  );
  // 710 / (3150 + 3150 + 2800)
  e.OR = e.oB / e.Hs; // 0.074   710/9100
  e.lR = Math.round(e.minHeight * e.OR); //314

  b += e.lR;
  e.Hs = 0;

  g.forEach(
    (function(a) {
      return function(b) {
        b.height = a.lR;
        var c = Math.floor(a.YQ[b.id] * a.OR);
        b.width = c;
        a.Hs += c;
      };
    })(e)
  );
}

const array = [];

const g = sort.splice(0, 3);
combine(g);

console.log(g);
array.push(...g);

const g1 = sort.splice(0, 3);
combine(g1);
array.push(...g1);

const g2 = sort.splice(0, 3);
combine(g2);
array.push(...g2);

const root = document.querySelector("#root");
let dom = "";
array.forEach(item => {
  return (dom += `<img src=${item.rawUrl} width=${item.width} height=${item.height}}/>`);
});
console.log(dom);
root.innerHTML = dom;
